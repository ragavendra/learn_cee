https://www.exploit-db.com/

Process management, Memory management, Device control, Filesystems, Network management

Block, char and network devices

The kernel, instead, has a very small stack; it can be as
small as a single, 4096-byte page. Your functions must share that stack with the
entire kernel-space call chain. Thus, it is never a good idea to declare large auto-
matic variables; if you need larger structures, you should allocate them dynamically
at call time.

 such as any other modules making use of a specific mod-
ule, is also provided. lsmod works by reading the /proc/modules virtual file. Informa-
tion on currently loaded modules can also be found in the sysfs virtual filesystem
under /sys/module.

EXPORT_SYMBOL(name);
EXPORT_SYMBOL_GPL(name);

Integrated Device Electronics (IDE) drivers allow user control of DMA operations.

module_param(howmany, int, S_IRUGO);
module_param(whom, charp, S_IRUGO);

module_param_array(name,type,num,perm);

obj-m 

/proc/devices

if (scull_major) {
dev = MKDEV(scull_major, scull_minor);
result = register_chrdev_region(dev, scull_nr_devs, "scull");
} else {
result = alloc_chrdev_region(&dev, scull_minor, scull_nr_devs,"scull");
scull_major = MAJOR(dev);
}
if (result < 0) {
printk(KERN_WARNING "scull: can't get major %d\n", scull_major);
return result;
}

Most of the fundamental driver opera-
tions involve three important kernel data structures, called file_operations, file,
and inode. 

So far, we have reserved some device numbers for our use, but we have not yet con-
nected any of our driverâ€™s operations to those numbers. The file_operations struc-
ture is how a char driver sets up this connection.

 string __user. This annotation is a form of documenta-
tion, noting that a pointer is a user-space address that cannot be directly
dereferenced.

watch -n1 sudo cpupower monitor

struct point origin, *pp;
pp =
printf("origin is (%d,%d)\n", (*pp).x, (*pp).y);
The parentheses are necessary in (*pp).x because the precedence of the structure member operator . is
higher then *. The expression *pp.x means *(pp.x), which is illegal here because x is not a pointer.



